---
title: "Spatial data is special data"
author: "Matt Williamson"
date: "31 August 2021"
output:
  xaringan::moon_reader:
    lib_dir: "libs"
    chakra: "libs/remark-latest.min.js"
    css: ["default", "css/mawtheme2.css", "css/animate.css"]        
    seal: false
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
      navigation:
        scroll: false
      # beforeInit: "libs/offline-mathjax.js"
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(warning = FALSE, message = FALSE, 
                      fig.retina = 3, fig.align = "center")
```


```{r packages-data, include=FALSE}
library(tidyverse)
library(pander)
```


name:1
class: center middle main-title section-title-4

# Spatial data is special data

#### (Or - how does R keep track of all of this spatial stuff?)

.class-info[

**Session 3**

.light[HES597: Introduction to Spatial Data in R<br>
Boise State University Human-Environment Systems<br>
Fall 2021]

]

---

name: outline
class: title title-inv-5

# Plan for today

--

Location, Location, Location

--

The Coordinate Reference System

--

Other elements that define location in R objects

--

Parting thoughts


---

# Questions we can answer with GIS

 - Questions about geographic location
 
 - Questions about geographic distribution
 
 - Questions about geographic association
 
 - Questions about geographic interaction
 
 - Questions about geographic change

---

# Questions we can answer with GIS

 .primary[- __Questions about geographic location__]
 
 .white[
 - Questions about geographic distribution
 
 - Questions about geographic association
 
 - Questions about geographic interaction
 
 - Questions about geographic change
 ]

---

layout: false
name: projections
class: center middle section-title section-title-2 animated fadeIn

# Location, Location, Location!!
### __(sure, but how do we actually describe where things are?)__
---

class: center middle

# Location
---
class: left middle

# Location

--

## __nominal: (potentially contested) place names__

--

## __absolute: the physical location on the earth's surface__

---
class: left middle

# Location


.white[## __nominal: (potentially contested) place names__]

## __absolute: the physical location on the earth's surface__

---
# Coordinates: 2 or more measurements that specify location relative to a _reference system_

.pull-left[
- Cartesian coordinate system: grid formed by combining horizontal (*x*) and vertical (*y*) measurement scales

- _origin (O)_ = the point at which both measurement systems intersect

- By convention this is equal (0,0) and all measurements relative to the origin

- Adaptable to multiple dimensions (e.g. *z* for altitude)
]

.pull-right.center[
<figure>
  <img src="img/02/CartesianCoordinateSystem.png" alt="ZZZ" title="ZZZ" width="100%">
  <figcaption><a href="https://commons.wikimedia.org/wiki/File:CartesianCoordinateSystem.png">Svjo</a>, <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>, via Wikimedia Commons</figcaption>
</figure>
]
---

# Coordinates: 2 or more measurements that specify location relative to a _reference system_

.pull-left.center[
<figure>
  <img src="img/02/Latitude_and_Longitude.png" alt="ZZZ" title="ZZZ" width="100%">
  <figcaption><a href="https://commons.wikimedia.org/wiki/File:Latitude_and_Longitude_of_the_Earth_fr.svg">Djexplo</a>, CC0, via Wikimedia Commons</figcaption>
</figure>
]

.pull-right[

- Geographic coordinate system uses longitude (*x*) and latitude (*y*) 

- Horizontal location measured as longitude in degrees from prime meridian

- Vertical location measured as latitude in degrees from equator

- _Graticule_: the grid formed by the intersection of longitude and latitude

- The graticule is based on an ellipsoid model of earth's surface and contained in the _datum_

]
---

# Projection: The Datum

### __describes which ellipsoid to use and the precise relations between locations on earth's surface and Cartesian coordinates__

- Geographic Coordinate Systems: describe the model used to represent the earth's surface in lattitude and longitude

  - Geodetic datum (e.g., `WGS84`): origin is based on the earth's center of gravity not optimized for any region.
  
  - Local datum (e.g., `NAD83`): allows for local variation in earth's surface to be modeled more accurately 
  
---

# Projection: The Datum
.pull-left[
```{r ncexample}
library(sf)
nc.sf <-  st_read(
  system.file("shapes/", package="maptools"), 
  "sids")
st_crs(nc.sf) = 4267
#plot(st_geometry(nc.sf))
```
]

.pull-right[
```{r plotproj1, echo=FALSE}
plot(st_geometry(nc.sf))
```

]
---
# Projection: The Datum
.pull-left[
```{r ncprjex}
library(sf)
nc.sf <-  st_read(system.file("shapes/", 
                              package="maptools"), "sids")
st_crs(nc.sf) = 3358
#plot(st_geometry(nc.sf))
```
]

.pull-right[
```{r plotproj2, echo=FALSE}
plot(st_geometry(nc.sf))
```
]

---
.pull-left[
<figure>
  <img src="img/02/EPSG4267.png" alt="ZZZ" title="ZZZ" width="80%">
</figure>
]

.pull-right[
<figure>
  <img src="img/02/EPSG3358.png" alt="ZZZ" title="ZZZ" width="80%">
</figure>
]
---
]
